{"remainingRequest":"/Users/abadboy/Documents/works/yitaibox_web/node_modules/babel-loader/lib/index.js!/Users/abadboy/Documents/works/yitaibox_web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/abadboy/Documents/works/yitaibox_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/abadboy/Documents/works/yitaibox_web/src/components/video.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/abadboy/Documents/works/yitaibox_web/src/components/video.vue","mtime":1627026042239},{"path":"/Users/abadboy/Documents/works/yitaibox_web/node_modules/cache-loader/dist/cjs.js","mtime":1622543821598},{"path":"/Users/abadboy/Documents/works/yitaibox_web/node_modules/babel-loader/lib/index.js","mtime":1609932570543},{"path":"/Users/abadboy/Documents/works/yitaibox_web/node_modules/cache-loader/dist/cjs.js","mtime":1622543821598},{"path":"/Users/abadboy/Documents/works/yitaibox_web/node_modules/vue-loader/lib/index.js","mtime":1627026069863}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJzaG93VmlkZW8iLAogIHByb3BzOiB7CiAgICB2aWRlb1VybDogU3RyaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGxheWVyOiBudWxsLAogICAgICBwbGF5VGltZTogIiIsCiAgICAgIHNlZWtUaW1lOiAiIiwKICAgICAgY3VycmVudDogIiIsCiAgICAgIGlzU2hvd1BsYXk6IHRydWUKICAgIH07CiAgfSwKICBiZWZvcmVSb3V0ZUxlYXZlOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZUxlYXZlKCkgey8vCiAgfSwKICBjb21wdXRlZDogewogICAgdmlkZW9PcHRpb25zOiBmdW5jdGlvbiB2aWRlb09wdGlvbnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29udHJvbHM6IHRydWUsCiAgICAgICAgc3JjOiB0aGlzLnZpZGVvVXJsCiAgICAgIH07CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0VmlkZW8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRWaWRlbzogZnVuY3Rpb24gaW5pdFZpZGVvKCkgewogICAgICAvL+WOn+eUn+WIneWni+WMluinhumikeaWueazlQogICAgICB2YXIgbXlWaWRlbyA9IHRoaXMuJHJlZnMudmlkZW87IC8vIG15VmlkZW8ucGxheSgpOwoKICAgICAgY29uc29sZS5sb2cobXlWaWRlbyk7IC8vb250aW1ldXBkYXRlCgogICAgICBteVZpZGVvLm9udGltZXVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBteUZ1bmN0aW9uKCk7CiAgICAgIH07CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZnVuY3Rpb24gbXlGdW5jdGlvbigpIHsKICAgICAgICB2YXIgcGxheVRpbWUgPSBteVZpZGVvLmN1cnJlbnRUaW1lOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImNhY2hlVGltZSIsIHBsYXlUaW1lKTsKICAgICAgICB9LCA1MDApOwogICAgICAgIHZhciB0aW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImNhY2hlVGltZSIpOyAvLyDlvZPliY3mkq3mlL7kvY3nva7lj5HnlJ/lj5jljJbml7bop6blj5HjgIIKCiAgICAgICAgaWYgKHBsYXlUaW1lIC0gTnVtYmVyKHRpbWUpID4gMikgewogICAgICAgICAgbXlWaWRlby5jdXJyZW50VGltZSA9IE51bWJlcih0aW1lKTsKICAgICAgICB9IGVsc2Uge30KICAgICAgfQogICAgfSwKICAgIC8vIOaSreaUvuWbnuiwgwogICAgb25QbGF5ZXJQbGF5OiBmdW5jdGlvbiBvblBsYXllclBsYXkocGxheWVyKSB7CiAgICAgIC8vIHRoaXMuZ2xvYmFsU2V0dGluZyA9IHRydWUKICAgICAgY29uc29sZS5sb2coInBsYXllciBwbGF5ISIsIHBsYXllcik7IC8vIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInZqcy1jb250cm9sLWJhciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ2anMtY29udHJvbC1iYXIiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgIH0sCiAgICAvLyDmmoLlgZzlm57osIMKICAgIG9uUGxheWVyUGF1c2U6IGZ1bmN0aW9uIG9uUGxheWVyUGF1c2UocGxheWVyKSB7Ly8gdGhpcy5nbG9iYWxTZXR0aW5nLmNvbnRyb2xzID0gZmFsc2U7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJwbGF5ZXIgcGF1c2UhIiwgcGxheWVyKTsKICAgICAgLy8gdmFyIHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpZGVvIik7CiAgICAgIC8vIHZpZGVvLmNvbnRyb2xzPWZhbHNlOwogICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ2anMtY29udHJvbC1iYXIiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfSwKICAgIHNlZWtpbmc6IGZ1bmN0aW9uIHNlZWtpbmcoKSB7CiAgICAgIGNvbnNvbGUubG9nKCLlv6vov5siKTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAodGhpcy5wbGF5ZXIpIHsKICAgICAgdGhpcy5wbGF5ZXIuZGlzcG9zZSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["video.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA,EAJA;AAKA,MAAA,UAAA,EAAA;AALA,KAAA;AAOA,GAbA;AAcA,EAAA,gBAdA,8BAcA,CACA;AACA,GAhBA;AAiBA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,aAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,GAAA,EAAA,KAAA;AAFA,OAAA;AAIA;AANA,GAjBA;AAyBA,EAAA,OAzBA,qBAyBA;AACA,SAAA,SAAA;AACA,GA3BA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA;AACA,UAAA,OAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAFA,CAGA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAJA,CAKA;;AACA,MAAA,OAAA,CAAA,YAAA,GAAA,YAAA;AACA,QAAA,UAAA;AACA,OAFA;;AAGA,UAAA,KAAA,GAAA,IAAA;;AAEA,eAAA,UAAA,GAAA;AACA,YAAA,QAAA,GAAA,OAAA,CAAA,WAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,QAAA;AACA,SAFA,EAEA,GAFA,CAAA;AAGA,YAAA,IAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CALA,CAMA;;AACA,YAAA,QAAA,GAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,WAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,SAFA,MAEA,CACA;AACA;AACA,KAxBA;AA0BA;AACA,IAAA,YA3BA,wBA2BA,MA3BA,EA2BA;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,cAAA,EAAA,MAAA,EAFA,CAGA;AACA;AACA,KAhCA;AAkCA;AACA,IAAA,aAnCA,yBAmCA,MAnCA,EAmCA,CACA;AACA;AACA;AACA;AACA;AACA,KAzCA;AA0CA,IAAA,OA1CA,qBA0CA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA;AA5CA,GA5BA;AA2EA,EAAA,aA3EA,2BA2EA;AACA,QAAA,KAAA,MAAA,EAAA;AACA,WAAA,MAAA,CAAA,OAAA;AACA;AACA;AA/EA,CAAA","sourcesContent":["<template>\n  <div class=\"_pc_video\">\n    <!-- \n       webkit-playsinline  小窗\n       preload: （预加载）iPhone支持，Android不一定支持;\n　   poster: （封面图片）iPhone支持，Android不一定支持;\n　　autoplay: （自动播放）iPhone中的Safari不支持，webview可能被开启。Android不一定支持；\n　　loop: （循环播放）iPhone支持，Android不一定支持;\n　　controls: （控制条）iPhone支持，大师需要开始播放了才显示，Android基本支持;\n　　width: （宽度）;\n　　height: （高度）;\n\nx-webkit-airplay=\"allow\"  视频支持ios的AirPlay功能\n     -->\n    <video\n      :src=\"videoUrl\"\n      :controls=\"videoOptions.controls\"\n      class=\"video-js vjs-big-play-centered vjs-fluid\"\n      webkit-playsinline=\"true\"\n      playsinline=\"true\"\n      x-webkit-airplay=\"allow\"\n      x5-playsinline\n      style=\"width: 100%\"\n      @play=\"onPlayerPlay\"\n      @pause=\"onPlayerPause\"\n      @seeking=\"seeking\"\n      loop=\"loop\" \n      ref=\"video\"\n    ></video>\n    <div class=\"_pc_icon_play\" v-if=\"isShowPlay\" @click=\"$refs.video.play();isShowPlay=false\">\n      <img :src=\"$cdn+'/pc/content1_left_play.png'\" alt=\"\" srcset=\"\" />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"showVideo\",\n  props: {\n    videoUrl: String,\n  },\n  data() {\n    return {\n      player: null,\n      playTime: \"\",\n      seekTime: \"\",\n      current: \"\",\n      isShowPlay:true\n    };\n  },\n  beforeRouteLeave() {\n    //\n  },\n  computed: {\n    videoOptions() {\n      return {\n        controls: true,\n        src: this.videoUrl,\n      };\n    },\n  },\n  mounted() {\n    this.initVideo();\n  },\n  methods: {\n    initVideo() {\n      //原生初始化视频方法\n      let myVideo = this.$refs.video;\n      // myVideo.play();\n      console.log(myVideo);\n      //ontimeupdate\n      myVideo.ontimeupdate = function () {\n        myFunction();\n      };\n      let _this = this;\n\n      function myFunction() {\n        let playTime = myVideo.currentTime;\n        setTimeout(function () {\n          localStorage.setItem(\"cacheTime\", playTime);\n        }, 500);\n        let time = localStorage.getItem(\"cacheTime\");\n        // 当前播放位置发生变化时触发。\n        if (playTime - Number(time) > 2) {\n          myVideo.currentTime = Number(time);\n        } else {\n        }\n      }\n    },\n\n    // 播放回调\n    onPlayerPlay(player) {\n      // this.globalSetting = true\n      console.log(\"player play!\", player);\n      // document.getElementsByClassName(\"vjs-control-bar\").style.display = \"block\";\n      // document.getElementsByClassName(\"vjs-control-bar\").style.display = \"block\";\n    },\n\n    // 暂停回调\n    onPlayerPause(player) {\n      // this.globalSetting.controls = false;\n      // console.log(\"player pause!\", player);\n      // var video = document.getElementById(\"video\");\n      // video.controls=false;\n      // document.getElementsByClassName(\"vjs-control-bar\").style.display = \"none\";\n    },\n    seeking() {\n      console.log(\"快进\");\n    },\n  },\n\n  beforeDestroy() {\n    if (this.player) {\n      this.player.dispose();\n    }\n  },\n};\n</script>\n\n\n<style>\n._pc_video {\n  position: relative;\n}\n._pc_icon_play {\n  width: 84px;\n  height: 84px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  position: absolute;\n  top: calc((100% - 84px) / 2);\n  left: calc((100% - 84px) / 2);\n}\n._pc_icon_play img {\n  width: 84px;\n  height: 84px;\n}\n</style>"],"sourceRoot":"src/components"}]}
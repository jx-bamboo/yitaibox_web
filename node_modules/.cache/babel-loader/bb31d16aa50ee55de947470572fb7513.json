{"remainingRequest":"/Users/abadboy/Documents/works/yitaibox_web/node_modules/babel-loader/lib/index.js!/Users/abadboy/Documents/works/yitaibox_web/node_modules/eslint-loader/index.js??ref--13-0!/Users/abadboy/Documents/works/yitaibox_web/src/dbchain-js-client/src/access_token.js","dependencies":[{"path":"/Users/abadboy/Documents/works/yitaibox_web/src/dbchain-js-client/src/access_token.js","mtime":1627026042241},{"path":"/Users/abadboy/Documents/works/yitaibox_web/node_modules/cache-loader/dist/cjs.js","mtime":1622543821598},{"path":"/Users/abadboy/Documents/works/yitaibox_web/node_modules/babel-loader/lib/index.js","mtime":1609932570543},{"path":"/Users/abadboy/Documents/works/yitaibox_web/node_modules/eslint-loader/index.js","mtime":1622543823631}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgc2lnbiB9IGZyb20gIi4vY29zbW9zX3NpZy9pbmRleCI7CmltcG9ydCB7IGdldFByaXZLZXksIGdldFB1YktleSB9IGZyb20gIi4va2V5X21hbmFnZXIiOwoKdmFyIGJzNTggPSByZXF1aXJlKCJiczU4Iik7CgpmdW5jdGlvbiBzaWduRm9yVG9rZW4oc3RyKSB7CiAgdmFyIHByaXZLZXkgPSBnZXRQcml2S2V5KCk7CiAgdmFyIHB1YktleSA9IGdldFB1YktleSgpOwogIGNvbnNvbGUubG9nKHByaXZLZXksIHB1YktleSk7CiAgdmFyIHNpZ09iaiA9IHNpZ24oc3RyLCBwcml2S2V5KTsKICB2YXIgZW5jb2RlZFB1YktleSA9IGJzNTguZW5jb2RlKHB1YktleSk7CiAgdmFyIGVuY29kZWRTaWcgPSBiczU4LmVuY29kZShzaWdPYmouc2lnbmF0dXJlKTsKICB2YXIgcmVzdWx0ID0gIiIuY29uY2F0KGVuY29kZWRQdWJLZXksICI6IikuY29uY2F0KHN0ciwgIjoiKS5jb25jYXQoZW5jb2RlZFNpZyk7CiAgY29uc29sZS5sb2coc2lnT2JqLCBlbmNvZGVkUHViS2V5LCBlbmNvZGVkU2lnLCByZXN1bHQpOwogIHJldHVybiByZXN1bHQ7Cn0KCmZ1bmN0aW9uIGNyZWF0ZUFjY2Vzc1Rva2VuKCkgewogIHZhciB0aW1lID0gIiIgKyBEYXRlLm5vdygpOwogIHZhciByZXN1bHQgPSBzaWduRm9yVG9rZW4odGltZSk7CiAgcmV0dXJuIHJlc3VsdDsKfQoKZXhwb3J0IHsgY3JlYXRlQWNjZXNzVG9rZW4gfTs="},{"version":3,"sources":["/Users/abadboy/Documents/works/yitaibox_web/src/dbchain-js-client/src/access_token.js"],"names":["sign","getPrivKey","getPubKey","bs58","require","signForToken","str","privKey","pubKey","console","log","sigObj","encodedPubKey","encode","encodedSig","signature","result","createAccessToken","time","Date","now"],"mappings":";AAAA,SAASA,IAAT,QAAqB,oBAArB;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,eAAtC;;AACA,IAAMC,IAAI,GAAIC,OAAO,CAAC,MAAD,CAArB;;AAEA,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;AACzB,MAAIC,OAAO,GAAGN,UAAU,EAAxB;AACA,MAAIO,MAAM,GAAGN,SAAS,EAAtB;AACFO,EAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ,EAAoBC,MAApB;AACE,MAAIG,MAAM,GAAGX,IAAI,CAACM,GAAD,EAAMC,OAAN,CAAjB;AACA,MAAIK,aAAa,GAAGT,IAAI,CAACU,MAAL,CAAYL,MAAZ,CAApB;AACA,MAAIM,UAAU,GAAGX,IAAI,CAACU,MAAL,CAAYF,MAAM,CAACI,SAAnB,CAAjB;AACA,MAAIC,MAAM,aAAMJ,aAAN,cAAuBN,GAAvB,cAA8BQ,UAA9B,CAAV;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAYC,MAAZ,EAAmBC,aAAnB,EAAiCE,UAAjC,EAA4CE,MAA5C;AACA,SAAOA,MAAP;AACD;;AAED,SAASC,iBAAT,GAA6B;AAC3B,MAAIC,IAAI,GAAG,KAAKC,IAAI,CAACC,GAAL,EAAhB;AACA,MAAIJ,MAAM,GAAGX,YAAY,CAACa,IAAD,CAAzB;AACA,SAAOF,MAAP;AACD;;AAED,SAASC,iBAAT","sourcesContent":["import { sign } from \"./cosmos_sig/index\"\nimport { getPrivKey, getPubKey } from \"./key_manager\";\nconst bs58 =  require(\"bs58\")\n\nfunction signForToken(str) {\n  var privKey = getPrivKey();\n  var pubKey = getPubKey();\nconsole.log(privKey,pubKey,)\n  var sigObj = sign(str, privKey);\n  var encodedPubKey = bs58.encode(pubKey)\n  var encodedSig = bs58.encode(sigObj.signature)\n  var result = `${encodedPubKey}:${str}:${encodedSig}`\n  console.log(sigObj,encodedPubKey,encodedSig,result)\n  return result;\n}\n\nfunction createAccessToken() {\n  var time = \"\" + Date.now();\n  var result = signForToken(time)\n  return result\n}\n\nexport { createAccessToken };\n"]}]}